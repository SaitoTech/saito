.saito-overlay:has(> .menu) {
  box-shadow: none;
  background-color: transparent;
}

/* Menu container layouts */
.saito-overlay .menu {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  row-gap: 1rem;
  column-gap: 1rem;
  overflow-y: auto;
  height: 92.5vh;
  width: 95vw;
  background-color: transparent;
  justify-content: space-between;
  gap: 2rem;
}

/* Alternative menu layouts */
.saito-overlay .menu.m1,
.saito-overlay .menu.m2,
.saito-overlay .menu.m3 {
  display: flex;
  flex-direction: column; /* was 'columns' which is invalid */
  flex-wrap: wrap;
  row-gap: 1rem;
  column-gap: 1rem;
  width: 90vw;
  max-width: 1400px;
  height: 85vh;
  overflow-y: auto;
  background-color: transparent;
}

/* Card sizing inside different menus */
.saito-overlay .menu.m3 .card {
  min-width: 32%;
  max-width: 32%;
  min-height: 100%;
  max-height: 100%;
}

.saito-overlay .menu.m1 .card,
.saito-overlay .menu.m2 .card {
  min-width: 49%;
  max-width: 49%;
  min-height: 100%;
  max-height: 100%;
}

/* Generic card styles */
.saito-overlay .menu .card {
  position: relative; /* needed for ::before */
  height: 45.5vh;
  width: 100%;
  box-sizing: border-box;
  cursor: pointer;
  overflow: hidden;
}

/* Common ::before styles for cards with background images */
.card.menu_movement::before,
.card.menu_redeployment::before,
.card.menu_replacement::before,
.card.menu_event::before {
  content: '';
  position: absolute;
  inset: 0;
  overflow: hidden;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: transform 2.5s ease, filter 1.5s ease;
  z-index: 0;
  filter: sepia(0.1) contrast(1.1) brightness(0.95);
  transform: scale(1);
  animation: none;
}

/* Different backgrounds */
.card.menu_movement::before {
  background-image: url('/paths/img/backgrounds/menu/artillery.png');
}

.card.menu_redeployment::before {
  background-image: url('/paths/img/backgrounds/menu/train.jpg');
}

.card.menu_replacement::before {
  background-image: url('/paths/img/backgrounds/menu/recruiting.jpg');
}

.card.menu_event::before {
  background-image: url('/paths/img/backgrounds/menu/suez.jpg');
}

/* Hover effects */
.card.menu_movement:hover::before,
.card.menu_redeployment:hover::before,
.card.menu_replacement:hover::before,
.card.menu_event:hover::before {
  transform: scale(1.1);
  filter: brightness(1.05) sepia(0.1) contrast(1.1);
  /* Add animations only for menu_movement */
}

.card.menu_movement:hover::before {
  animation:
    grain-move 1.4s linear infinite,
    film-roll 4s linear infinite,
    flicker 2s infinite alternate ease-in-out,
    frame-jitter 0.3s infinite ease-in-out;
}

/* Instantaneous reset on mouse out */
.card.menu_movement:not(:hover)::before,
.card.menu_redeployment:not(:hover)::before,
.card.menu_replacement:not(:hover)::before,
.card.menu_event:not(:hover)::before {
  transition: transform 0.05s ease-in, filter 0.05s ease-in;
  animation: none;
}

/* Border on hover */
.saito-overlay .menu .card:hover {
  border: 2px solid whitesmoke;
}

/* Film grain overlay on all cards */
.card::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('/img/misc/film-grain2.png'); /* your chosen PNG */
  background-size: cover;
  opacity: 0.06;
  z-index: 2;
  pointer-events: none;
  animation: grain-move 1.4s infinite linear;
}

/* Menu option title styling */
.menu-option-title {
  position: absolute;
  top: 0;
  left: 0;
  height: 6rem;
  width: 100%;
  background-color: rgba(0, 0, 0, 0.65);
  padding: 1.6rem;
  color: #f7f1e1;
  font-family: 'EB-Garamond', serif;
  font-style: normal;
  font-weight: 600;
  font-variant: small-caps;
  letter-spacing: 0.15rem;
  font-size: 2.4rem;
  text-transform: uppercase;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
  z-index: 2;
}


